# ë³´ì•ˆ ì„¤ì • ê°€ì´ë“œ

## âš ï¸ ì¤‘ìš”: ì´ ê°€ì´ë“œë¥¼ ë°˜ë“œì‹œ ë”°ë¼ ì„¤ì •í•˜ì„¸ìš”!

ìì‚° ê´€ë¦¬ ì‹œìŠ¤í…œì€ ë§¤ìš° ë¯¼ê°í•œ ê¸ˆìœµ ë°ì´í„°ë¥¼ ë‹¤ë£¨ë¯€ë¡œ ìµœê³  ìˆ˜ì¤€ì˜ ë³´ì•ˆì´ í•„ìš”í•©ë‹ˆë‹¤.

---

## 1. Firebase Database ë³´ì•ˆ ê·œì¹™ ì„¤ì • (í•„ìˆ˜)

### ì„¤ì • ë°©ë²•
1. [Firebase Console](https://console.firebase.google.com/) ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ: `finance-hj-bf424`
3. ì™¼ìª½ ë©”ë‰´ â†’ **Realtime Database** â†’ **ê·œì¹™** íƒ­ í´ë¦­
4. ì•„ë˜ ê·œì¹™ì„ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸°

### ë³´ì•ˆ ê·œì¹™ (ì—„ê²©í•œ ë²„ì „)

```json
{
  "rules": {
    ".read": false,
    ".write": false,

    "assets": {
      ".read": "auth != null && (auth.token.email == 'ahnhj1996@naver.com')",
      ".write": "auth != null && (auth.token.email == 'ahnhj1996@naver.com')"
    },

    "accounts": {
      ".read": "auth != null && (auth.token.email == 'ahnhj1996@naver.com')",
      ".write": "auth != null && (auth.token.email == 'ahnhj1996@naver.com')"
    },

    "history": {
      ".read": "auth != null && (auth.token.email == 'ahnhj1996@naver.com')",
      ".write": "auth != null && (auth.token.email == 'ahnhj1996@naver.com')"
    },

    "users": {
      "$uid": {
        ".read": "auth != null && auth.uid == $uid",
        ".write": "auth != null && auth.uid == $uid",

        "2fa": {
          ".read": "auth != null && auth.uid == $uid",
          ".write": "auth != null && auth.uid == $uid"
        },

        "accessLog": {
          ".read": "auth != null && auth.uid == $uid",
          ".write": "auth != null && auth.uid == $uid"
        }
      }
    }
  }
}
```

### ì´ë©”ì¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•
ë‹¤ë¥¸ ì´ë©”ì¼ì„ í—ˆìš©í•˜ë ¤ë©´:
```json
".read": "auth != null && (auth.token.email == 'ahnhj1996@naver.com' || auth.token.email == 'partner@example.com')",
".write": "auth != null && (auth.token.email == 'ahnhj1996@naver.com' || auth.token.email == 'partner@example.com')"
```

---

## 2. Firebase Authentication ì„¤ì •

### 2-1. ì´ë©”ì¼ ì¸ì¦ í™œì„±í™”
1. Firebase Console â†’ **Authentication** â†’ **Sign-in method**
2. **ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸** í™œì„±í™”
3. **ì´ë©”ì¼ ì¸ì¦ í•„ìš”** ì˜µì…˜ í™œì„±í™” (ê¶Œì¥)

### 2-2. ìŠ¹ì¸ëœ ë„ë©”ì¸ í™•ì¸
1. Firebase Console â†’ **Authentication** â†’ **Settings** â†’ **ìŠ¹ì¸ëœ ë„ë©”ì¸**
2. ë‹¤ìŒ ë„ë©”ì¸ì´ ìˆëŠ”ì§€ í™•ì¸:
   - `hj5131mono.github.io`
   - `localhost` (ë¡œì»¬ í…ŒìŠ¤íŠ¸ìš©)

### 2-3. ë¹„ë°€ë²ˆí˜¸ ì •ì±… ê°•í™”
1. Firebase Console â†’ **Authentication** â†’ **Settings** â†’ **ë¹„ë°€ë²ˆí˜¸ ì •ì±…**
2. ê¶Œì¥ ì„¤ì •:
   - ìµœì†Œ ê¸¸ì´: 12ì
   - ëŒ€ì†Œë¬¸ì í˜¼í•© í•„ìˆ˜
   - ìˆ«ì í¬í•¨ í•„ìˆ˜
   - íŠ¹ìˆ˜ë¬¸ì í¬í•¨ í•„ìˆ˜

---

## 3. 2ë‹¨ê³„ ì¸ì¦ (2FA) í™œì„±í™”

ì´ í”„ë¡œì íŠ¸ëŠ” TOTP ê¸°ë°˜ 2ë‹¨ê³„ ì¸ì¦ì„ ì§€ì›í•©ë‹ˆë‹¤.

### ì‚¬ìš©ì ì„¤ì • ë°©ë²•
1. ë¡œê·¸ì¸ í›„ ì„¤ì • í˜ì´ì§€ ì ‘ì†
2. "2ë‹¨ê³„ ì¸ì¦ í™œì„±í™”" í´ë¦­
3. QR ì½”ë“œë¥¼ Google Authenticator ë˜ëŠ” Authy ì•±ìœ¼ë¡œ ìŠ¤ìº”
4. 6ìë¦¬ ì½”ë“œ ì…ë ¥í•˜ì—¬ í™œì„±í™”

### ì§€ì› ì•±
- Google Authenticator (iOS, Android)
- Microsoft Authenticator
- Authy
- 1Password

---

## 4. íšŒì›ê°€ì… ì œí•œ

### ì˜µì…˜ A: ì™„ì „ ë¹„í™œì„±í™” (ê¶Œì¥)
- `signup.html` ì ‘ê·¼ ì°¨ë‹¨
- ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ íšŒì›ê°€ì… ë§í¬ ì œê±°
- Firebase Consoleì—ì„œ ì§ì ‘ ì‚¬ìš©ì ì¶”ê°€

### ì˜µì…˜ B: ì´ˆëŒ€ ì½”ë“œ ë°©ì‹
- ê´€ë¦¬ìê°€ ì´ˆëŒ€ ì½”ë“œ ìƒì„±
- ì´ˆëŒ€ ì½”ë“œ ì—†ì´ëŠ” íšŒì›ê°€ì… ë¶ˆê°€

**í˜„ì¬ ì„¤ì •:** ì˜µì…˜ A (ì™„ì „ ë¹„í™œì„±í™”)

---

## 5. ë³´ì•ˆ ê¸°ëŠ¥ ìš”ì•½

### êµ¬í˜„ëœ ë³´ì•ˆ ê¸°ëŠ¥
- âœ… Firebase Database ì´ë©”ì¼ ê¸°ë°˜ ì ‘ê·¼ ì œí•œ
- âœ… 2ë‹¨ê³„ ì¸ì¦ (TOTP)
- âœ… ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ (15ë¶„ ë¬´í™œë™ ì‹œ ìë™ ë¡œê·¸ì•„ì›ƒ)
- âœ… ì ‘ê·¼ ë¡œê·¸ ê¸°ë¡ (IP, ì‹œê°„, ë””ë°”ì´ìŠ¤)
- âœ… íšŒì›ê°€ì… ë¹„í™œì„±í™”
- âœ… ì´ë©”ì¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ (ì½”ë“œ ë ˆë²¨)
- âœ… HTTPS ê°•ì œ (GitHub Pages ê¸°ë³¸)
- âœ… XSS ë°©ì§€ (ì…ë ¥ê°’ ê²€ì¦)
- âœ… ë¹„ë°€ë²ˆí˜¸ Firebaseì—ì„œ ì•”í˜¸í™” ì €ì¥

### ì¶”ê°€ ê¶Œì¥ ì‚¬í•­
- ğŸ“± ë¡œê·¸ì¸ ì•Œë¦¼ (ì´ë©”ì¼/SMS)
- ğŸ” ë¹„ë°€ë²ˆí˜¸ ì •ê¸° ë³€ê²½ ì•ˆë‚´
- ğŸ“Š ì ‘ê·¼ ë¡œê·¸ ì •ê¸° ê²€í† 
- ğŸ’¾ ë°ì´í„° ì •ê¸° ë°±ì—…
- ğŸ”„ Firebase í”„ë¡œì íŠ¸ ì •ê¸° ê°ì‚¬

---

## 6. Firebase Consoleì—ì„œ ì‚¬ìš©ì ì¶”ê°€í•˜ëŠ” ë°©ë²•

íšŒì›ê°€ì…ì´ ë¹„í™œì„±í™”ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ê´€ë¦¬ìê°€ ì§ì ‘ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤.

1. Firebase Console â†’ **Authentication** â†’ **Users** íƒ­
2. **ì‚¬ìš©ì ì¶”ê°€** í´ë¦­
3. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
4. ì‚¬ìš©ìì—ê²Œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ì „ë‹¬
5. ì²« ë¡œê·¸ì¸ ì‹œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì•ˆë‚´

---

## 7. ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ í™•ì¸ (í•„ìˆ˜)
- [ ] Firebase Database ë³´ì•ˆ ê·œì¹™ ì„¤ì • ì™„ë£Œ
- [ ] ìŠ¹ì¸ëœ ë„ë©”ì¸ì— `hj5131mono.github.io` ì¶”ê°€
- [ ] ì´ë©”ì¼ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ë³¸ì¸ ì´ë©”ì¼ ì¶”ê°€
- [ ] íšŒì›ê°€ì… í˜ì´ì§€ ë¹„í™œì„±í™” í™•ì¸

### ì •ê¸° í™•ì¸ (ì›” 1íšŒ)
- [ ] ì ‘ê·¼ ë¡œê·¸ ê²€í† 
- [ ] ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (3ê°œì›”ë§ˆë‹¤)
- [ ] Firebase í”„ë¡œì íŠ¸ í™œë™ ë¡œê·¸ í™•ì¸
- [ ] ë°ì´í„° ë°±ì—… ìˆ˜í–‰

### ì‚¬ê³  ë°œìƒ ì‹œ
1. ì¦‰ì‹œ Firebase Consoleì—ì„œ ëª¨ë“  ì‚¬ìš©ì ë¡œê·¸ì•„ì›ƒ
2. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
3. ì ‘ê·¼ ë¡œê·¸ í™•ì¸
4. Firebase API í‚¤ êµì²´ (í•„ìš”ì‹œ)
5. ë³´ì•ˆ ê·œì¹™ ì¬ì ê²€

---

## 8. ë¬¸ì œ í•´ê²°

### "Permission denied" ì—ëŸ¬
â†’ Firebase ë³´ì•ˆ ê·œì¹™ í™•ì¸
â†’ ë¡œê·¸ì¸í•œ ì´ë©”ì¼ì´ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ”ì§€ í™•ì¸

### 2FA ì½”ë“œê°€ ë§ì§€ ì•ŠìŒ
â†’ ì‹œìŠ¤í…œ ì‹œê°„ ë™ê¸°í™” í™•ì¸
â†’ Google Authenticator ì‹œê°„ ë™ê¸°í™”

### ë¡œê·¸ì¸ í›„ ë°”ë¡œ ë¡œê·¸ì•„ì›ƒë¨
â†’ ë¸Œë¼ìš°ì € ì¿ í‚¤ í™•ì¸
â†’ Firebase Session ì„¤ì • í™•ì¸

---

## 9. ì—°ë½ì²˜

ë³´ì•ˆ ê´€ë ¨ ë¬¸ì œ ë°œê²¬ ì‹œ:
- ì¦‰ì‹œ Firebase Consoleì—ì„œ ì‚¬ìš©ì ì ‘ê·¼ ì°¨ë‹¨
- GitHub Issuesì— ë³´ì•ˆ ì´ìŠˆ ë“±ë¡ (ë¯¼ê°ì •ë³´ ì œì™¸)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-10-28
**ë³´ì•ˆ ìˆ˜ì¤€**: ğŸ”’ğŸ”’ğŸ”’ ìµœê³  (ì€í–‰ ìˆ˜ì¤€)
